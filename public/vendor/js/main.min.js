var canvas=document.querySelector("canvas");canvas.width=canvas.offsetWidth,canvas.height=canvas.offsetHeight,console.log("aa ",canvas);var coor={x:0,y:400},pos={x:0,y:150},ctx=canvas.getContext("2d"),center={x:canvas.width/2,y:canvas.height/2,deg:0,scale:5/1506*canvas.width};function drawFibonacciSpiral(a,e){var r=0,t=center.deg||0;ctx.translate(center.x,center.y),ctx.rotate(t*Math.PI/180),ctx.translate(-center.x,-center.y),window.requestAnimationFrame(function t(){ctx.clearRect(0,0,canvas.width,canvas.height),(r+=.1)<=12&&(window.requestAnimationFrame(t),drawStroke(getSpiral(a,e,r,center.scale),center,"rgba(255,0,0,0.9)",13-r))})}function getDistance(t,a){return Math.sqrt(Math.pow(t.x-a.x,2)+Math.pow(t.y-a.y,2))}function getAngle(t,a){return Math.atan2(a.y-t.y,a.x-t.x)}function drawStroke(t,a,e,r){var n=t[0];r=r||1,a=a||{x:0,y:0},e=e||"black",ctx.strokeStyle=e,ctx.lineWidth=r,ctx.beginPath(),ctx.moveTo(a.x+n.x,a.y+n.y);for(var c=1;c<t.length;c++)n=t[c],ctx.lineTo(a.x+n.x,a.y+n.y);ctx.stroke(),ctx.closePath()}function FibonacciGenerator(){var c=this;return c.array=[0,1,2],c.getDiscrete=function(t){for(;t>=c.array.length;){var a=c.array.length,e=c.array[a-1]+c.array[a-2];c.array.push(e)}return c.array[t]},c.getNumber=function(t){var a=Math.floor(t),e=Math.ceil(t);if(Math.floor(t)==t)return c.getDiscrete(t);var r=Math.pow(t-a,1.15),n=c.getDiscrete(a);return n+r*(c.getDiscrete(e)-n)},c}function getSpiral(t,a,e,r){for(var n=12-(e||0),c=(r=r||.5,getAngle(t,a)),o=(getDistance(t,a),new FibonacciGenerator),i=(o.getNumber(12),c-12*Math.PI/2),s=[],h=500*n;h<=6e3;h++){e=h/500;var x=o.getNumber(e),g=e*Math.PI/2,l={x:r*x*Math.cos(g+i)+t.x,y:r*x*Math.sin(g+i)+t.y};s.push(l)}return s}drawFibonacciSpiral(pos,coor);